"use strict";(self.webpackChunktopology_designable=self.webpackChunktopology_designable||[]).push([[530],{25530:function(ct,_e,v){v.d(_e,{Z:function(){return Oe}});var ye=v(87462),R=v(4942),me=v(71002),H=v(1413),ue=v(74902),ze=v(15671),c=v(43144),ke=v(97326),xe=v(32531),fe=v(73568),ve=v(94184),D=v.n(ve),F=v(15105),ee=v(64217),de=v(80334),y=v(67294),Ce=y.createContext(null);function Ke(o){var u=o.dropPosition,p=o.dropLevelOffset,e=o.indent,i={pointerEvents:"none",position:"absolute",right:0,backgroundColor:"red",height:2};switch(u){case-1:i.top=0,i.left=-p*e;break;case 1:i.bottom=0,i.left=-p*e;break;case 0:i.bottom=0,i.left=e;break}return y.createElement("div",{style:i})}function ce(o){if(o==null)throw new TypeError("Cannot destructure "+o)}var ie=v(97685),h=v(91),N=v(8410),te=v(85344),G=v(82225),q=function(u){for(var p=u.prefixCls,e=u.level,i=u.isStart,s=u.isEnd,g="".concat(p,"-indent-unit"),t=[],n=0;n<e;n+=1){var r;t.push(y.createElement("span",{key:n,className:D()(g,(r={},(0,R.Z)(r,"".concat(g,"-start"),i[n]),(0,R.Z)(r,"".concat(g,"-end"),s[n]),r))}))}return y.createElement("span",{"aria-hidden":"true",className:"".concat(p,"-indent")},t)},pe=y.memo(q),V=v(35381),M=v(1089),we=["eventKey","className","style","dragOver","dragOverGapTop","dragOverGapBottom","isLeaf","isStart","isEnd","expanded","selected","checked","halfChecked","loading","domRef","active","data","onMouseMove","selectable"],Pe="open",Ae="close",Ie="---",be=function(o){(0,xe.Z)(p,o);var u=(0,fe.Z)(p);function p(){var e;(0,ze.Z)(this,p);for(var i=arguments.length,s=new Array(i),g=0;g<i;g++)s[g]=arguments[g];return e=u.call.apply(u,[this].concat(s)),e.state={dragNodeHighlight:!1},e.selectHandle=void 0,e.cacheIndent=void 0,e.onSelectorClick=function(t){var n=e.props.context.onNodeClick;n(t,(0,M.F)(e.props)),e.isSelectable()?e.onSelect(t):e.onCheck(t)},e.onSelectorDoubleClick=function(t){var n=e.props.context.onNodeDoubleClick;n(t,(0,M.F)(e.props))},e.onSelect=function(t){if(!e.isDisabled()){var n=e.props.context.onNodeSelect;n(t,(0,M.F)(e.props))}},e.onCheck=function(t){if(!e.isDisabled()){var n=e.props,r=n.disableCheckbox,a=n.checked,f=e.props.context.onNodeCheck;if(!(!e.isCheckable()||r)){var m=!a;f(t,(0,M.F)(e.props),m)}}},e.onMouseEnter=function(t){var n=e.props.context.onNodeMouseEnter;n(t,(0,M.F)(e.props))},e.onMouseLeave=function(t){var n=e.props.context.onNodeMouseLeave;n(t,(0,M.F)(e.props))},e.onContextMenu=function(t){var n=e.props.context.onNodeContextMenu;n(t,(0,M.F)(e.props))},e.onDragStart=function(t){var n=e.props.context.onNodeDragStart;t.stopPropagation(),e.setState({dragNodeHighlight:!0}),n(t,(0,ke.Z)(e));try{t.dataTransfer.setData("text/plain","")}catch(r){}},e.onDragEnter=function(t){var n=e.props.context.onNodeDragEnter;t.preventDefault(),t.stopPropagation(),n(t,(0,ke.Z)(e))},e.onDragOver=function(t){var n=e.props.context.onNodeDragOver;t.preventDefault(),t.stopPropagation(),n(t,(0,ke.Z)(e))},e.onDragLeave=function(t){var n=e.props.context.onNodeDragLeave;t.stopPropagation(),n(t,(0,ke.Z)(e))},e.onDragEnd=function(t){var n=e.props.context.onNodeDragEnd;t.stopPropagation(),e.setState({dragNodeHighlight:!1}),n(t,(0,ke.Z)(e))},e.onDrop=function(t){var n=e.props.context.onNodeDrop;t.preventDefault(),t.stopPropagation(),e.setState({dragNodeHighlight:!1}),n(t,(0,ke.Z)(e))},e.onExpand=function(t){var n=e.props,r=n.loading,a=n.context.onNodeExpand;r||a(t,(0,M.F)(e.props))},e.setSelectHandle=function(t){e.selectHandle=t},e.getNodeState=function(){var t=e.props.expanded;return e.isLeaf()?null:t?Pe:Ae},e.hasChildren=function(){var t=e.props.eventKey,n=e.props.context.keyEntities,r=(0,V.Z)(n,t)||{},a=r.children;return!!(a||[]).length},e.isLeaf=function(){var t=e.props,n=t.isLeaf,r=t.loaded,a=e.props.context.loadData,f=e.hasChildren();return n===!1?!1:n||!a&&!f||a&&r&&!f},e.isDisabled=function(){var t=e.props.disabled,n=e.props.context.disabled;return!!(n||t)},e.isCheckable=function(){var t=e.props.checkable,n=e.props.context.checkable;return!n||t===!1?!1:n},e.syncLoadData=function(t){var n=t.expanded,r=t.loading,a=t.loaded,f=e.props.context,m=f.loadData,E=f.onNodeLoad;r||m&&n&&!e.isLeaf()&&!e.hasChildren()&&!a&&E((0,M.F)(e.props))},e.isDraggable=function(){var t=e.props,n=t.data,r=t.context.draggable;return!!(r&&(!r.nodeDraggable||r.nodeDraggable(n)))},e.renderDragHandler=function(){var t=e.props.context,n=t.draggable,r=t.prefixCls;return n!=null&&n.icon?y.createElement("span",{className:"".concat(r,"-draggable-icon")},n.icon):null},e.renderSwitcherIconDom=function(t){var n=e.props.switcherIcon,r=e.props.context.switcherIcon,a=n||r;return typeof a=="function"?a((0,H.Z)((0,H.Z)({},e.props),{},{isLeaf:t})):a},e.renderSwitcher=function(){var t=e.props.expanded,n=e.props.context.prefixCls;if(e.isLeaf()){var r=e.renderSwitcherIconDom(!0);return r!==!1?y.createElement("span",{className:D()("".concat(n,"-switcher"),"".concat(n,"-switcher-noop"))},r):null}var a=D()("".concat(n,"-switcher"),"".concat(n,"-switcher_").concat(t?Pe:Ae)),f=e.renderSwitcherIconDom(!1);return f!==!1?y.createElement("span",{onClick:e.onExpand,className:a},f):null},e.renderCheckbox=function(){var t=e.props,n=t.checked,r=t.halfChecked,a=t.disableCheckbox,f=e.props.context.prefixCls,m=e.isDisabled(),E=e.isCheckable();if(!E)return null;var S=typeof E!="boolean"?E:null;return y.createElement("span",{className:D()("".concat(f,"-checkbox"),n&&"".concat(f,"-checkbox-checked"),!n&&r&&"".concat(f,"-checkbox-indeterminate"),(m||a)&&"".concat(f,"-checkbox-disabled")),onClick:e.onCheck},S)},e.renderIcon=function(){var t=e.props.loading,n=e.props.context.prefixCls;return y.createElement("span",{className:D()("".concat(n,"-iconEle"),"".concat(n,"-icon__").concat(e.getNodeState()||"docu"),t&&"".concat(n,"-icon_loading"))})},e.renderSelector=function(){var t=e.state.dragNodeHighlight,n=e.props,r=n.title,a=r===void 0?Ie:r,f=n.selected,m=n.icon,E=n.loading,S=n.data,K=e.props.context,T=K.prefixCls,l=K.showIcon,C=K.icon,O=K.loadData,k=K.titleRender,L=e.isDisabled(),P="".concat(T,"-node-content-wrapper"),Q;if(l){var I=m||C;Q=I?y.createElement("span",{className:D()("".concat(T,"-iconEle"),"".concat(T,"-icon__customize"))},typeof I=="function"?I(e.props):I):e.renderIcon()}else O&&E&&(Q=e.renderIcon());var b;typeof a=="function"?b=a(S):k?b=k(S):b=a;var se=y.createElement("span",{className:"".concat(T,"-title")},b);return y.createElement("span",{ref:e.setSelectHandle,title:typeof a=="string"?a:"",className:D()("".concat(P),"".concat(P,"-").concat(e.getNodeState()||"normal"),!L&&(f||t)&&"".concat(T,"-node-selected")),onMouseEnter:e.onMouseEnter,onMouseLeave:e.onMouseLeave,onContextMenu:e.onContextMenu,onClick:e.onSelectorClick,onDoubleClick:e.onSelectorDoubleClick},Q,se,e.renderDropIndicator())},e.renderDropIndicator=function(){var t=e.props,n=t.disabled,r=t.eventKey,a=e.props.context,f=a.draggable,m=a.dropLevelOffset,E=a.dropPosition,S=a.prefixCls,K=a.indent,T=a.dropIndicatorRender,l=a.dragOverNodeKey,C=a.direction,O=!!f,k=!n&&O&&l===r,L=K!=null?K:e.cacheIndent;return e.cacheIndent=K,k?T({dropPosition:E,dropLevelOffset:m,indent:L,prefixCls:S,direction:C}):null},e}return(0,c.Z)(p,[{key:"componentDidMount",value:function(){this.syncLoadData(this.props)}},{key:"componentDidUpdate",value:function(){this.syncLoadData(this.props)}},{key:"isSelectable",value:function(){var i=this.props.selectable,s=this.props.context.selectable;return typeof i=="boolean"?i:s}},{key:"render",value:function(){var i,s=this.props,g=s.eventKey,t=s.className,n=s.style,r=s.dragOver,a=s.dragOverGapTop,f=s.dragOverGapBottom,m=s.isLeaf,E=s.isStart,S=s.isEnd,K=s.expanded,T=s.selected,l=s.checked,C=s.halfChecked,O=s.loading,k=s.domRef,L=s.active,P=s.data,Q=s.onMouseMove,I=s.selectable,b=(0,h.Z)(s,we),se=this.props.context,ne=se.prefixCls,oe=se.filterTreeNode,Ee=se.keyEntities,Le=se.dropContainerKey,$e=se.dropTargetKey,Xe=se.draggingNodeKey,Re=this.isDisabled(),Be=(0,ee.Z)(b,{aria:!0,data:!0}),ot=(0,V.Z)(Ee,g)||{},qe=ot.level,Je=S[S.length-1],Te=this.isDraggable(),et=!Re&&Te,tt=Xe===g,gt=I!==void 0?{"aria-selected":!!I}:void 0;return y.createElement("div",(0,ye.Z)({ref:k,className:D()(t,"".concat(ne,"-treenode"),(i={},(0,R.Z)(i,"".concat(ne,"-treenode-disabled"),Re),(0,R.Z)(i,"".concat(ne,"-treenode-switcher-").concat(K?"open":"close"),!m),(0,R.Z)(i,"".concat(ne,"-treenode-checkbox-checked"),l),(0,R.Z)(i,"".concat(ne,"-treenode-checkbox-indeterminate"),C),(0,R.Z)(i,"".concat(ne,"-treenode-selected"),T),(0,R.Z)(i,"".concat(ne,"-treenode-loading"),O),(0,R.Z)(i,"".concat(ne,"-treenode-active"),L),(0,R.Z)(i,"".concat(ne,"-treenode-leaf-last"),Je),(0,R.Z)(i,"".concat(ne,"-treenode-draggable"),Te),(0,R.Z)(i,"dragging",tt),(0,R.Z)(i,"drop-target",$e===g),(0,R.Z)(i,"drop-container",Le===g),(0,R.Z)(i,"drag-over",!Re&&r),(0,R.Z)(i,"drag-over-gap-top",!Re&&a),(0,R.Z)(i,"drag-over-gap-bottom",!Re&&f),(0,R.Z)(i,"filter-node",oe&&oe((0,M.F)(this.props))),i)),style:n,draggable:et,"aria-grabbed":tt,onDragStart:et?this.onDragStart:void 0,onDragEnter:Te?this.onDragEnter:void 0,onDragOver:Te?this.onDragOver:void 0,onDragLeave:Te?this.onDragLeave:void 0,onDrop:Te?this.onDrop:void 0,onDragEnd:Te?this.onDragEnd:void 0,onMouseMove:Q},gt,Be),y.createElement(pe,{prefixCls:ne,level:qe,isStart:E,isEnd:S}),this.renderDragHandler(),this.renderSwitcher(),this.renderCheckbox(),this.renderSelector())}}]),p}(y.Component),Ze=function(u){return y.createElement(Ce.Consumer,null,function(p){return y.createElement(be,(0,ye.Z)({},u,{context:p}))})};Ze.displayName="TreeNode",Ze.isTreeNode=1;var Ne=Ze;function Fe(o,u){var p=y.useState(!1),e=(0,ie.Z)(p,2),i=e[0],s=e[1];(0,N.Z)(function(){if(i)return o(),function(){u()}},[i]),(0,N.Z)(function(){return s(!0),function(){s(!1)}},[])}var He=["className","style","motion","motionNodes","motionType","onMotionStart","onMotionEnd","active","treeNodeRequiredProps"],Qe=function(u,p){var e=u.className,i=u.style,s=u.motion,g=u.motionNodes,t=u.motionType,n=u.onMotionStart,r=u.onMotionEnd,a=u.active,f=u.treeNodeRequiredProps,m=(0,h.Z)(u,He),E=y.useState(!0),S=(0,ie.Z)(E,2),K=S[0],T=S[1],l=y.useContext(Ce),C=l.prefixCls,O=g&&t!=="hide";(0,N.Z)(function(){g&&O!==K&&T(O)},[g]);var k=function(){g&&n()},L=y.useRef(!1),P=function(){g&&!L.current&&(L.current=!0,r())};Fe(k,P);var Q=function(b){O===b&&P()};return g?y.createElement(G.ZP,(0,ye.Z)({ref:p,visible:K},s,{motionAppear:t==="show",onVisibleChanged:Q}),function(I,b){var se=I.className,ne=I.style;return y.createElement("div",{ref:b,className:D()("".concat(C,"-treenode-motion"),se),style:ne},g.map(function(oe){var Ee=(0,ye.Z)({},(ce(oe.data),oe.data)),Le=oe.title,$e=oe.key,Xe=oe.isStart,Re=oe.isEnd;delete Ee.children;var Be=(0,M.H8)($e,f);return y.createElement(Ne,(0,ye.Z)({},Ee,Be,{title:Le,active:a,data:oe.data,key:$e,isStart:Xe,isEnd:Re}))}))}):y.createElement(Ne,(0,ye.Z)({domRef:p,className:e,style:i},m,{active:a}))};Qe.displayName="MotionTreeNode";var at=y.forwardRef(Qe),Ge=at;function pt(){var o=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[],u=arguments.length>1&&arguments[1]!==void 0?arguments[1]:[],p=o.length,e=u.length;if(Math.abs(p-e)!==1)return{add:!1,key:null};function i(s,g){var t=new Map;s.forEach(function(r){t.set(r,!0)});var n=g.filter(function(r){return!t.has(r)});return n.length===1?n[0]:null}return p<e?{add:!0,key:i(o,u)}:{add:!1,key:i(u,o)}}function Ye(o,u,p){var e=o.findIndex(function(t){return t.key===p}),i=o[e+1],s=u.findIndex(function(t){return t.key===p});if(i){var g=u.findIndex(function(t){return t.key===i.key});return u.slice(s+1,g)}return u.slice(s+1)}var Kt=["prefixCls","data","selectable","checkable","expandedKeys","selectedKeys","checkedKeys","loadedKeys","loadingKeys","halfCheckedKeys","keyEntities","disabled","dragging","dragOverNodeKey","dropPosition","motion","height","itemHeight","virtual","focusable","activeItem","focused","tabIndex","onKeyDown","onFocus","onBlur","onActiveChange","onListChangeStart","onListChangeEnd"],xt={width:0,height:0,display:"flex",overflow:"hidden",opacity:0,border:0,padding:0,margin:0},Mt=function(){},st="RC_TREE_MOTION_".concat(Math.random()),Pt={key:st},$t={key:st,level:0,index:0,pos:"0",node:Pt,nodes:[Pt]},d={parent:null,children:[],pos:$t.pos,data:Pt,title:null,key:st,isStart:[],isEnd:[]};function W(o,u,p,e){return u===!1||!p?o:o.slice(0,Math.ceil(p/e)+1)}function x(o){var u=o.key,p=o.pos;return(0,M.km)(u,p)}function A(o){for(var u=String(o.data.key),p=o;p.parent;)p=p.parent,u="".concat(p.data.key," > ").concat(u);return u}var X=y.forwardRef(function(o,u){var p=o.prefixCls,e=o.data,i=o.selectable,s=o.checkable,g=o.expandedKeys,t=o.selectedKeys,n=o.checkedKeys,r=o.loadedKeys,a=o.loadingKeys,f=o.halfCheckedKeys,m=o.keyEntities,E=o.disabled,S=o.dragging,K=o.dragOverNodeKey,T=o.dropPosition,l=o.motion,C=o.height,O=o.itemHeight,k=o.virtual,L=o.focusable,P=o.activeItem,Q=o.focused,I=o.tabIndex,b=o.onKeyDown,se=o.onFocus,ne=o.onBlur,oe=o.onActiveChange,Ee=o.onListChangeStart,Le=o.onListChangeEnd,$e=(0,h.Z)(o,Kt),Xe=y.useRef(null),Re=y.useRef(null);y.useImperativeHandle(u,function(){return{scrollTo:function(it){Xe.current.scrollTo(it)},getIndentWidth:function(){return Re.current.offsetWidth}}});var Be=y.useState(g),ot=(0,ie.Z)(Be,2),qe=ot[0],Je=ot[1],Te=y.useState(e),et=(0,ie.Z)(Te,2),tt=et[0],gt=et[1],Ct=y.useState(e),nt=(0,ie.Z)(Ct,2),Rt=nt[0],yt=nt[1],Nt=y.useState([]),dt=(0,ie.Z)(Nt,2),_t=dt[0],Zt=dt[1],Ot=y.useState(null),Dt=(0,ie.Z)(Ot,2),Ht=Dt[0],kt=Dt[1],Tt=y.useRef(e);Tt.current=e;function Lt(){var Me=Tt.current;gt(Me),yt(Me),Zt([]),kt(null),Le()}(0,N.Z)(function(){Je(g);var Me=pt(qe,g);if(Me.key!==null)if(Me.add){var it=tt.findIndex(function(ht){var mt=ht.key;return mt===Me.key}),ut=W(Ye(tt,e,Me.key),k,C,O),lt=tt.slice();lt.splice(it+1,0,d),yt(lt),Zt(ut),kt("show")}else{var ft=e.findIndex(function(ht){var mt=ht.key;return mt===Me.key}),vt=W(Ye(e,tt,Me.key),k,C,O),St=e.slice();St.splice(ft+1,0,d),yt(St),Zt(vt),kt("hide")}else tt!==e&&(gt(e),yt(e))},[g,e]),y.useEffect(function(){S||Lt()},[S]);var wt=l?Rt:e,bt={expandedKeys:g,selectedKeys:t,loadedKeys:r,loadingKeys:a,checkedKeys:n,halfCheckedKeys:f,dragOverNodeKey:K,dropPosition:T,keyEntities:m};return y.createElement(y.Fragment,null,Q&&P&&y.createElement("span",{style:xt,"aria-live":"assertive"},A(P)),y.createElement("div",null,y.createElement("input",{style:xt,disabled:L===!1||E,tabIndex:L!==!1?I:null,onKeyDown:b,onFocus:se,onBlur:ne,value:"",onChange:Mt,"aria-label":"for screen reader"})),y.createElement("div",{className:"".concat(p,"-treenode"),"aria-hidden":!0,style:{position:"absolute",pointerEvents:"none",visibility:"hidden",height:0,overflow:"hidden",border:0,padding:0}},y.createElement("div",{className:"".concat(p,"-indent")},y.createElement("div",{ref:Re,className:"".concat(p,"-indent-unit")}))),y.createElement(te.Z,(0,ye.Z)({},$e,{data:wt,itemKey:x,height:C,fullHeight:!1,virtual:k,itemHeight:O,prefixCls:"".concat(p,"-list"),ref:Xe,onVisibleChange:function(it,ut){var lt=new Set(it),ft=ut.filter(function(vt){return!lt.has(vt)});ft.some(function(vt){return x(vt)===st})&&Lt()}}),function(Me){var it=Me.pos,ut=(0,ye.Z)({},(ce(Me.data),Me.data)),lt=Me.title,ft=Me.key,vt=Me.isStart,St=Me.isEnd,ht=(0,M.km)(ft,it);delete ut.key,delete ut.children;var mt=(0,M.H8)(ht,bt);return y.createElement(Ge,(0,ye.Z)({},ut,mt,{title:lt,active:!!P&&ft===P.key,pos:it,data:Me.data,isStart:vt,isEnd:St,motion:l,motionNodes:ft===st?_t:null,motionType:Ht,onMotionStart:Ee,onMotionEnd:Lt,treeNodeRequiredProps:bt,onMouseMove:function(){oe(null)}}))}))});X.displayName="NodeList";var Z=X,U=null;function $(o,u){if(!o)return[];var p=o.slice(),e=p.indexOf(u);return e>=0&&p.splice(e,1),p}function Y(o,u){var p=(o||[]).slice();return p.indexOf(u)===-1&&p.push(u),p}function De(o){return o.split("-")}function re(o,u){var p=[],e=(0,V.Z)(u,o);function i(){var s=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[];s.forEach(function(g){var t=g.key,n=g.children;p.push(t),i(n)})}return i(e.children),p}function w(o){if(o.parent){var u=De(o.pos);return Number(u[u.length-1])===o.parent.children.length-1}return!1}function j(o){var u=De(o.pos);return Number(u[u.length-1])===0}function _(o,u,p,e,i,s,g,t,n,r){var a,f=o.clientX,m=o.clientY,E=o.target.getBoundingClientRect(),S=E.top,K=E.height,T=(r==="rtl"?-1:1)*(((i==null?void 0:i.x)||0)-f),l=(T-12)/e,C=(0,V.Z)(t,p.props.eventKey);if(m<S+K/2){var O=g.findIndex(function($e){return $e.key===C.key}),k=O<=0?0:O-1,L=g[k].key;C=(0,V.Z)(t,L)}var P=C.key,Q=C,I=C.key,b=0,se=0;if(!n.includes(P))for(var ne=0;ne<l&&w(C);ne+=1)C=C.parent,se+=1;var oe=u.props.data,Ee=C.node,Le=!0;return j(C)&&C.level===0&&m<S+K/2&&s({dragNode:oe,dropNode:Ee,dropPosition:-1})&&C.key===p.props.eventKey?b=-1:(Q.children||[]).length&&n.includes(I)?s({dragNode:oe,dropNode:Ee,dropPosition:0})?b=0:Le=!1:se===0?l>-1.5?s({dragNode:oe,dropNode:Ee,dropPosition:1})?b=1:Le=!1:s({dragNode:oe,dropNode:Ee,dropPosition:0})?b=0:s({dragNode:oe,dropNode:Ee,dropPosition:1})?b=1:Le=!1:s({dragNode:oe,dropNode:Ee,dropPosition:1})?b=1:Le=!1,{dropPosition:b,dropLevelOffset:se,dropTargetKey:C.key,dropTargetPos:C.pos,dragOverNodeKey:I,dropContainerKey:b===0?null:((a=C.parent)===null||a===void 0?void 0:a.key)||null,dropAllowed:Le}}function le(o,u){if(o){var p=u.multiple;return p?o.slice():o.length?[o[0]]:o}}var ae=function(u){return u};function J(o,u){if(!o)return[];var p=u||{},e=p.processProps,i=e===void 0?ae:e,s=Array.isArray(o)?o:[o];return s.map(function(g){var t=g.children,n=_objectWithoutProperties(g,U),r=J(t,u);return React.createElement(TreeNode,_extends({key:n.key},i(n)),r)})}function he(o){if(!o)return null;var u;if(Array.isArray(o))u={checkedKeys:o,halfCheckedKeys:void 0};else if((0,me.Z)(o)==="object")u={checkedKeys:o.checked||void 0,halfCheckedKeys:o.halfChecked||void 0};else return(0,de.ZP)(!1,"`checkedKeys` is not an array or an object"),null;return u}function Se(o,u){var p=new Set;function e(i){if(!p.has(i)){var s=(0,V.Z)(u,i);if(s){p.add(i);var g=s.parent,t=s.node;t.disabled||g&&e(g.key)}}}return(o||[]).forEach(function(i){e(i)}),(0,ue.Z)(p)}var We=v(17341),Ue=10,Ve=function(o){(0,xe.Z)(p,o);var u=(0,fe.Z)(p);function p(){var e;(0,ze.Z)(this,p);for(var i=arguments.length,s=new Array(i),g=0;g<i;g++)s[g]=arguments[g];return e=u.call.apply(u,[this].concat(s)),e.destroyed=!1,e.delayedDragEnterLogic=void 0,e.loadingRetryTimes={},e.state={keyEntities:{},indent:null,selectedKeys:[],checkedKeys:[],halfCheckedKeys:[],loadedKeys:[],loadingKeys:[],expandedKeys:[],draggingNodeKey:null,dragChildrenKeys:[],dropTargetKey:null,dropPosition:null,dropContainerKey:null,dropLevelOffset:null,dropTargetPos:null,dropAllowed:!0,dragOverNodeKey:null,treeData:[],flattenNodes:[],focused:!1,activeKey:null,listChanging:!1,prevProps:null,fieldNames:(0,M.w$)()},e.dragStartMousePosition=null,e.dragNode=void 0,e.currentMouseOverDroppableNodeKey=null,e.listRef=y.createRef(),e.onNodeDragStart=function(t,n){var r=e.state,a=r.expandedKeys,f=r.keyEntities,m=e.props.onDragStart,E=n.props.eventKey;e.dragNode=n,e.dragStartMousePosition={x:t.clientX,y:t.clientY};var S=$(a,E);e.setState({draggingNodeKey:E,dragChildrenKeys:re(E,f),indent:e.listRef.current.getIndentWidth()}),e.setExpandedKeys(S),window.addEventListener("dragend",e.onWindowDragEnd),m==null||m({event:t,node:(0,M.F)(n.props)})},e.onNodeDragEnter=function(t,n){var r=e.state,a=r.expandedKeys,f=r.keyEntities,m=r.dragChildrenKeys,E=r.flattenNodes,S=r.indent,K=e.props,T=K.onDragEnter,l=K.onExpand,C=K.allowDrop,O=K.direction,k=n.props,L=k.pos,P=k.eventKey,Q=(0,ke.Z)(e),I=Q.dragNode;if(e.currentMouseOverDroppableNodeKey!==P&&(e.currentMouseOverDroppableNodeKey=P),!I){e.resetDragState();return}var b=_(t,I,n,S,e.dragStartMousePosition,C,E,f,a,O),se=b.dropPosition,ne=b.dropLevelOffset,oe=b.dropTargetKey,Ee=b.dropContainerKey,Le=b.dropTargetPos,$e=b.dropAllowed,Xe=b.dragOverNodeKey;if(m.indexOf(oe)!==-1||!$e){e.resetDragState();return}if(e.delayedDragEnterLogic||(e.delayedDragEnterLogic={}),Object.keys(e.delayedDragEnterLogic).forEach(function(Re){clearTimeout(e.delayedDragEnterLogic[Re])}),I.props.eventKey!==n.props.eventKey&&(t.persist(),e.delayedDragEnterLogic[L]=window.setTimeout(function(){if(e.state.draggingNodeKey!==null){var Re=(0,ue.Z)(a),Be=(0,V.Z)(f,n.props.eventKey);Be&&(Be.children||[]).length&&(Re=Y(a,n.props.eventKey)),"expandedKeys"in e.props||e.setExpandedKeys(Re),l==null||l(Re,{node:(0,M.F)(n.props),expanded:!0,nativeEvent:t.nativeEvent})}},800)),I.props.eventKey===oe&&ne===0){e.resetDragState();return}e.setState({dragOverNodeKey:Xe,dropPosition:se,dropLevelOffset:ne,dropTargetKey:oe,dropContainerKey:Ee,dropTargetPos:Le,dropAllowed:$e}),T==null||T({event:t,node:(0,M.F)(n.props),expandedKeys:a})},e.onNodeDragOver=function(t,n){var r=e.state,a=r.dragChildrenKeys,f=r.flattenNodes,m=r.keyEntities,E=r.expandedKeys,S=r.indent,K=e.props,T=K.onDragOver,l=K.allowDrop,C=K.direction,O=(0,ke.Z)(e),k=O.dragNode;if(k){var L=_(t,k,n,S,e.dragStartMousePosition,l,f,m,E,C),P=L.dropPosition,Q=L.dropLevelOffset,I=L.dropTargetKey,b=L.dropContainerKey,se=L.dropAllowed,ne=L.dropTargetPos,oe=L.dragOverNodeKey;a.indexOf(I)!==-1||!se||(k.props.eventKey===I&&Q===0?e.state.dropPosition===null&&e.state.dropLevelOffset===null&&e.state.dropTargetKey===null&&e.state.dropContainerKey===null&&e.state.dropTargetPos===null&&e.state.dropAllowed===!1&&e.state.dragOverNodeKey===null||e.resetDragState():P===e.state.dropPosition&&Q===e.state.dropLevelOffset&&I===e.state.dropTargetKey&&b===e.state.dropContainerKey&&ne===e.state.dropTargetPos&&se===e.state.dropAllowed&&oe===e.state.dragOverNodeKey||e.setState({dropPosition:P,dropLevelOffset:Q,dropTargetKey:I,dropContainerKey:b,dropTargetPos:ne,dropAllowed:se,dragOverNodeKey:oe}),T==null||T({event:t,node:(0,M.F)(n.props)}))}},e.onNodeDragLeave=function(t,n){e.currentMouseOverDroppableNodeKey===n.props.eventKey&&!t.currentTarget.contains(t.relatedTarget)&&(e.resetDragState(),e.currentMouseOverDroppableNodeKey=null);var r=e.props.onDragLeave;r==null||r({event:t,node:(0,M.F)(n.props)})},e.onWindowDragEnd=function(t){e.onNodeDragEnd(t,null,!0),window.removeEventListener("dragend",e.onWindowDragEnd)},e.onNodeDragEnd=function(t,n){var r=e.props.onDragEnd;e.setState({dragOverNodeKey:null}),e.cleanDragState(),r==null||r({event:t,node:(0,M.F)(n.props)}),e.dragNode=null,window.removeEventListener("dragend",e.onWindowDragEnd)},e.onNodeDrop=function(t,n){var r,a=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!1,f=e.state,m=f.dragChildrenKeys,E=f.dropPosition,S=f.dropTargetKey,K=f.dropTargetPos,T=f.dropAllowed;if(T){var l=e.props.onDrop;if(e.setState({dragOverNodeKey:null}),e.cleanDragState(),S!==null){var C=(0,H.Z)((0,H.Z)({},(0,M.H8)(S,e.getTreeNodeRequiredProps())),{},{active:((r=e.getActiveItem())===null||r===void 0?void 0:r.key)===S,data:(0,V.Z)(e.state.keyEntities,S).node}),O=m.indexOf(S)!==-1;(0,de.ZP)(!O,"Can not drop to dragNode's children node. This is a bug of rc-tree. Please report an issue.");var k=De(K),L={event:t,node:(0,M.F)(C),dragNode:e.dragNode?(0,M.F)(e.dragNode.props):null,dragNodesKeys:[e.dragNode.props.eventKey].concat(m),dropToGap:E!==0,dropPosition:E+Number(k[k.length-1])};a||l==null||l(L),e.dragNode=null}}},e.cleanDragState=function(){var t=e.state.draggingNodeKey;t!==null&&e.setState({draggingNodeKey:null,dropPosition:null,dropContainerKey:null,dropTargetKey:null,dropLevelOffset:null,dropAllowed:!0,dragOverNodeKey:null}),e.dragStartMousePosition=null,e.currentMouseOverDroppableNodeKey=null},e.triggerExpandActionExpand=function(t,n){var r=e.state,a=r.expandedKeys,f=r.flattenNodes,m=n.expanded,E=n.key,S=n.isLeaf;if(!(S||t.shiftKey||t.metaKey||t.ctrlKey)){var K=f.filter(function(l){return l.key===E})[0],T=(0,M.F)((0,H.Z)((0,H.Z)({},(0,M.H8)(E,e.getTreeNodeRequiredProps())),{},{data:K.data}));e.setExpandedKeys(m?$(a,E):Y(a,E)),e.onNodeExpand(t,T)}},e.onNodeClick=function(t,n){var r=e.props,a=r.onClick,f=r.expandAction;f==="click"&&e.triggerExpandActionExpand(t,n),a==null||a(t,n)},e.onNodeDoubleClick=function(t,n){var r=e.props,a=r.onDoubleClick,f=r.expandAction;f==="doubleClick"&&e.triggerExpandActionExpand(t,n),a==null||a(t,n)},e.onNodeSelect=function(t,n){var r=e.state.selectedKeys,a=e.state,f=a.keyEntities,m=a.fieldNames,E=e.props,S=E.onSelect,K=E.multiple,T=n.selected,l=n[m.key],C=!T;C?K?r=Y(r,l):r=[l]:r=$(r,l);var O=r.map(function(k){var L=(0,V.Z)(f,k);return L?L.node:null}).filter(function(k){return k});e.setUncontrolledState({selectedKeys:r}),S==null||S(r,{event:"select",selected:C,node:n,selectedNodes:O,nativeEvent:t.nativeEvent})},e.onNodeCheck=function(t,n,r){var a=e.state,f=a.keyEntities,m=a.checkedKeys,E=a.halfCheckedKeys,S=e.props,K=S.checkStrictly,T=S.onCheck,l=n.key,C,O={event:"check",node:n,checked:r,nativeEvent:t.nativeEvent};if(K){var k=r?Y(m,l):$(m,l),L=$(E,l);C={checked:k,halfChecked:L},O.checkedNodes=k.map(function(ne){return(0,V.Z)(f,ne)}).filter(function(ne){return ne}).map(function(ne){return ne.node}),e.setUncontrolledState({checkedKeys:k})}else{var P=(0,We.S)([].concat((0,ue.Z)(m),[l]),!0,f),Q=P.checkedKeys,I=P.halfCheckedKeys;if(!r){var b=new Set(Q);b.delete(l);var se=(0,We.S)(Array.from(b),{checked:!1,halfCheckedKeys:I},f);Q=se.checkedKeys,I=se.halfCheckedKeys}C=Q,O.checkedNodes=[],O.checkedNodesPositions=[],O.halfCheckedKeys=I,Q.forEach(function(ne){var oe=(0,V.Z)(f,ne);if(oe){var Ee=oe.node,Le=oe.pos;O.checkedNodes.push(Ee),O.checkedNodesPositions.push({node:Ee,pos:Le})}}),e.setUncontrolledState({checkedKeys:Q},!1,{halfCheckedKeys:I})}T==null||T(C,O)},e.onNodeLoad=function(t){var n=t.key,r=new Promise(function(a,f){e.setState(function(m){var E=m.loadedKeys,S=E===void 0?[]:E,K=m.loadingKeys,T=K===void 0?[]:K,l=e.props,C=l.loadData,O=l.onLoad;if(!C||S.indexOf(n)!==-1||T.indexOf(n)!==-1)return null;var k=C(t);return k.then(function(){var L=e.state.loadedKeys,P=Y(L,n);O==null||O(P,{event:"load",node:t}),e.setUncontrolledState({loadedKeys:P}),e.setState(function(Q){return{loadingKeys:$(Q.loadingKeys,n)}}),a()}).catch(function(L){if(e.setState(function(Q){return{loadingKeys:$(Q.loadingKeys,n)}}),e.loadingRetryTimes[n]=(e.loadingRetryTimes[n]||0)+1,e.loadingRetryTimes[n]>=Ue){var P=e.state.loadedKeys;(0,de.ZP)(!1,"Retry for `loadData` many times but still failed. No more retry."),e.setUncontrolledState({loadedKeys:Y(P,n)}),a()}f(L)}),{loadingKeys:Y(T,n)}})});return r.catch(function(){}),r},e.onNodeMouseEnter=function(t,n){var r=e.props.onMouseEnter;r==null||r({event:t,node:n})},e.onNodeMouseLeave=function(t,n){var r=e.props.onMouseLeave;r==null||r({event:t,node:n})},e.onNodeContextMenu=function(t,n){var r=e.props.onRightClick;r&&(t.preventDefault(),r({event:t,node:n}))},e.onFocus=function(){var t=e.props.onFocus;e.setState({focused:!0});for(var n=arguments.length,r=new Array(n),a=0;a<n;a++)r[a]=arguments[a];t==null||t.apply(void 0,r)},e.onBlur=function(){var t=e.props.onBlur;e.setState({focused:!1}),e.onActiveChange(null);for(var n=arguments.length,r=new Array(n),a=0;a<n;a++)r[a]=arguments[a];t==null||t.apply(void 0,r)},e.getTreeNodeRequiredProps=function(){var t=e.state,n=t.expandedKeys,r=t.selectedKeys,a=t.loadedKeys,f=t.loadingKeys,m=t.checkedKeys,E=t.halfCheckedKeys,S=t.dragOverNodeKey,K=t.dropPosition,T=t.keyEntities;return{expandedKeys:n||[],selectedKeys:r||[],loadedKeys:a||[],loadingKeys:f||[],checkedKeys:m||[],halfCheckedKeys:E||[],dragOverNodeKey:S,dropPosition:K,keyEntities:T}},e.setExpandedKeys=function(t){var n=e.state,r=n.treeData,a=n.fieldNames,f=(0,M.oH)(r,t,a);e.setUncontrolledState({expandedKeys:t,flattenNodes:f},!0)},e.onNodeExpand=function(t,n){var r=e.state.expandedKeys,a=e.state,f=a.listChanging,m=a.fieldNames,E=e.props,S=E.onExpand,K=E.loadData,T=n.expanded,l=n[m.key];if(!f){var C=r.indexOf(l),O=!T;if((0,de.ZP)(T&&C!==-1||!T&&C===-1,"Expand state not sync with index check"),O?r=Y(r,l):r=$(r,l),e.setExpandedKeys(r),S==null||S(r,{node:n,expanded:O,nativeEvent:t.nativeEvent}),O&&K){var k=e.onNodeLoad(n);k&&k.then(function(){var L=(0,M.oH)(e.state.treeData,r,m);e.setUncontrolledState({flattenNodes:L})}).catch(function(){var L=e.state.expandedKeys,P=$(L,l);e.setExpandedKeys(P)})}}},e.onListChangeStart=function(){e.setUncontrolledState({listChanging:!0})},e.onListChangeEnd=function(){setTimeout(function(){e.setUncontrolledState({listChanging:!1})})},e.onActiveChange=function(t){var n=e.state.activeKey,r=e.props,a=r.onActiveChange,f=r.itemScrollOffset,m=f===void 0?0:f;n!==t&&(e.setState({activeKey:t}),t!==null&&e.scrollTo({key:t,offset:m}),a==null||a(t))},e.getActiveItem=function(){var t=e.state,n=t.activeKey,r=t.flattenNodes;return n===null?null:r.find(function(a){var f=a.key;return f===n})||null},e.offsetActiveKey=function(t){var n=e.state,r=n.flattenNodes,a=n.activeKey,f=r.findIndex(function(S){var K=S.key;return K===a});f===-1&&t<0&&(f=r.length),f=(f+t+r.length)%r.length;var m=r[f];if(m){var E=m.key;e.onActiveChange(E)}else e.onActiveChange(null)},e.onKeyDown=function(t){var n=e.state,r=n.activeKey,a=n.expandedKeys,f=n.checkedKeys,m=n.fieldNames,E=e.props,S=E.onKeyDown,K=E.checkable,T=E.selectable;switch(t.which){case F.Z.UP:{e.offsetActiveKey(-1),t.preventDefault();break}case F.Z.DOWN:{e.offsetActiveKey(1),t.preventDefault();break}}var l=e.getActiveItem();if(l&&l.data){var C=e.getTreeNodeRequiredProps(),O=l.data.isLeaf===!1||!!(l.data[m.children]||[]).length,k=(0,M.F)((0,H.Z)((0,H.Z)({},(0,M.H8)(r,C)),{},{data:l.data,active:!0}));switch(t.which){case F.Z.LEFT:{O&&a.includes(r)?e.onNodeExpand({},k):l.parent&&e.onActiveChange(l.parent.key),t.preventDefault();break}case F.Z.RIGHT:{O&&!a.includes(r)?e.onNodeExpand({},k):l.children&&l.children.length&&e.onActiveChange(l.children[0].key),t.preventDefault();break}case F.Z.ENTER:case F.Z.SPACE:{K&&!k.disabled&&k.checkable!==!1&&!k.disableCheckbox?e.onNodeCheck({},k,!f.includes(r)):!K&&T&&!k.disabled&&k.selectable!==!1&&e.onNodeSelect({},k);break}}}S==null||S(t)},e.setUncontrolledState=function(t){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1,r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:null;if(!e.destroyed){var a=!1,f=!0,m={};Object.keys(t).forEach(function(E){if(E in e.props){f=!1;return}a=!0,m[E]=t[E]}),a&&(!n||f)&&e.setState((0,H.Z)((0,H.Z)({},m),r))}},e.scrollTo=function(t){e.listRef.current.scrollTo(t)},e}return(0,c.Z)(p,[{key:"componentDidMount",value:function(){this.destroyed=!1,this.onUpdated()}},{key:"componentDidUpdate",value:function(){this.onUpdated()}},{key:"onUpdated",value:function(){var i=this.props,s=i.activeKey,g=i.itemScrollOffset,t=g===void 0?0:g;s!==void 0&&s!==this.state.activeKey&&(this.setState({activeKey:s}),s!==null&&this.scrollTo({key:s,offset:t}))}},{key:"componentWillUnmount",value:function(){window.removeEventListener("dragend",this.onWindowDragEnd),this.destroyed=!0}},{key:"resetDragState",value:function(){this.setState({dragOverNodeKey:null,dropPosition:null,dropLevelOffset:null,dropTargetKey:null,dropContainerKey:null,dropTargetPos:null,dropAllowed:!1})}},{key:"render",value:function(){var i,s=this.state,g=s.focused,t=s.flattenNodes,n=s.keyEntities,r=s.draggingNodeKey,a=s.activeKey,f=s.dropLevelOffset,m=s.dropContainerKey,E=s.dropTargetKey,S=s.dropPosition,K=s.dragOverNodeKey,T=s.indent,l=this.props,C=l.prefixCls,O=l.className,k=l.style,L=l.showLine,P=l.focusable,Q=l.tabIndex,I=Q===void 0?0:Q,b=l.selectable,se=l.showIcon,ne=l.icon,oe=l.switcherIcon,Ee=l.draggable,Le=l.checkable,$e=l.checkStrictly,Xe=l.disabled,Re=l.motion,Be=l.loadData,ot=l.filterTreeNode,qe=l.height,Je=l.itemHeight,Te=l.virtual,et=l.titleRender,tt=l.dropIndicatorRender,gt=l.onContextMenu,Ct=l.onScroll,nt=l.direction,Rt=l.rootClassName,yt=l.rootStyle,Nt=(0,ee.Z)(this.props,{aria:!0,data:!0}),dt;return Ee&&((0,me.Z)(Ee)==="object"?dt=Ee:typeof Ee=="function"?dt={nodeDraggable:Ee}:dt={}),y.createElement(Ce.Provider,{value:{prefixCls:C,selectable:b,showIcon:se,icon:ne,switcherIcon:oe,draggable:dt,draggingNodeKey:r,checkable:Le,checkStrictly:$e,disabled:Xe,keyEntities:n,dropLevelOffset:f,dropContainerKey:m,dropTargetKey:E,dropPosition:S,dragOverNodeKey:K,indent:T,direction:nt,dropIndicatorRender:tt,loadData:Be,filterTreeNode:ot,titleRender:et,onNodeClick:this.onNodeClick,onNodeDoubleClick:this.onNodeDoubleClick,onNodeExpand:this.onNodeExpand,onNodeSelect:this.onNodeSelect,onNodeCheck:this.onNodeCheck,onNodeLoad:this.onNodeLoad,onNodeMouseEnter:this.onNodeMouseEnter,onNodeMouseLeave:this.onNodeMouseLeave,onNodeContextMenu:this.onNodeContextMenu,onNodeDragStart:this.onNodeDragStart,onNodeDragEnter:this.onNodeDragEnter,onNodeDragOver:this.onNodeDragOver,onNodeDragLeave:this.onNodeDragLeave,onNodeDragEnd:this.onNodeDragEnd,onNodeDrop:this.onNodeDrop}},y.createElement("div",{role:"tree",className:D()(C,O,Rt,(i={},(0,R.Z)(i,"".concat(C,"-show-line"),L),(0,R.Z)(i,"".concat(C,"-focused"),g),(0,R.Z)(i,"".concat(C,"-active-focused"),a!==null),i)),style:yt},y.createElement(Z,(0,ye.Z)({ref:this.listRef,prefixCls:C,style:k,data:t,disabled:Xe,selectable:b,checkable:!!Le,motion:Re,dragging:r!==null,height:qe,itemHeight:Je,virtual:Te,focusable:P,focused:g,tabIndex:I,activeItem:this.getActiveItem(),onFocus:this.onFocus,onBlur:this.onBlur,onKeyDown:this.onKeyDown,onActiveChange:this.onActiveChange,onListChangeStart:this.onListChangeStart,onListChangeEnd:this.onListChangeEnd,onContextMenu:gt,onScroll:Ct},this.getTreeNodeRequiredProps(),Nt))))}}],[{key:"getDerivedStateFromProps",value:function(i,s){var g=s.prevProps,t={prevProps:i};function n(P){return!g&&P in i||g&&g[P]!==i[P]}var r,a=s.fieldNames;if(n("fieldNames")&&(a=(0,M.w$)(i.fieldNames),t.fieldNames=a),n("treeData")?r=i.treeData:n("children")&&((0,de.ZP)(!1,"`children` of Tree is deprecated. Please use `treeData` instead."),r=(0,M.zn)(i.children)),r){t.treeData=r;var f=(0,M.I8)(r,{fieldNames:a});t.keyEntities=(0,H.Z)((0,R.Z)({},st,$t),f.keyEntities)}var m=t.keyEntities||s.keyEntities;if(n("expandedKeys")||g&&n("autoExpandParent"))t.expandedKeys=i.autoExpandParent||!g&&i.defaultExpandParent?Se(i.expandedKeys,m):i.expandedKeys;else if(!g&&i.defaultExpandAll){var E=(0,H.Z)({},m);delete E[st],t.expandedKeys=Object.keys(E).map(function(P){return E[P].key})}else!g&&i.defaultExpandedKeys&&(t.expandedKeys=i.autoExpandParent||i.defaultExpandParent?Se(i.defaultExpandedKeys,m):i.defaultExpandedKeys);if(t.expandedKeys||delete t.expandedKeys,r||t.expandedKeys){var S=(0,M.oH)(r||s.treeData,t.expandedKeys||s.expandedKeys,a);t.flattenNodes=S}if(i.selectable&&(n("selectedKeys")?t.selectedKeys=le(i.selectedKeys,i):!g&&i.defaultSelectedKeys&&(t.selectedKeys=le(i.defaultSelectedKeys,i))),i.checkable){var K;if(n("checkedKeys")?K=he(i.checkedKeys)||{}:!g&&i.defaultCheckedKeys?K=he(i.defaultCheckedKeys)||{}:r&&(K=he(i.checkedKeys)||{checkedKeys:s.checkedKeys,halfCheckedKeys:s.halfCheckedKeys}),K){var T=K,l=T.checkedKeys,C=l===void 0?[]:l,O=T.halfCheckedKeys,k=O===void 0?[]:O;if(!i.checkStrictly){var L=(0,We.S)(C,!0,m);C=L.checkedKeys,k=L.halfCheckedKeys}t.checkedKeys=C,t.halfCheckedKeys=k}}return n("loadedKeys")&&(t.loadedKeys=i.loadedKeys),t}}]),p}(y.Component);Ve.defaultProps={prefixCls:"rc-tree",showLine:!1,showIcon:!0,selectable:!0,multiple:!1,checkable:!1,disabled:!1,checkStrictly:!1,draggable:!1,defaultExpandParent:!0,autoExpandParent:!1,defaultExpandAll:!1,defaultExpandedKeys:[],defaultCheckedKeys:[],defaultSelectedKeys:[],dropIndicatorRender:Ke,allowDrop:function(){return!0},expandAction:!1},Ve.TreeNode=Ne;var rt=Ve,Oe=rt},17341:function(ct,_e,v){v.d(_e,{S:function(){return c}});var ye=v(80334),R=v(35381);function me(ke,xe){var fe=new Set;return ke.forEach(function(ve){xe.has(ve)||fe.add(ve)}),fe}function H(ke){var xe=ke||{},fe=xe.disabled,ve=xe.disableCheckbox,D=xe.checkable;return!!(fe||ve)||D===!1}function ue(ke,xe,fe,ve){for(var D=new Set(ke),F=new Set,ee=0;ee<=fe;ee+=1){var de=xe.get(ee)||new Set;de.forEach(function(ce){var ie=ce.key,h=ce.node,N=ce.children,te=N===void 0?[]:N;D.has(ie)&&!ve(h)&&te.filter(function(G){return!ve(G.node)}).forEach(function(G){D.add(G.key)})})}for(var y=new Set,Ce=fe;Ce>=0;Ce-=1){var Ke=xe.get(Ce)||new Set;Ke.forEach(function(ce){var ie=ce.parent,h=ce.node;if(!(ve(h)||!ce.parent||y.has(ce.parent.key))){if(ve(ce.parent.node)){y.add(ie.key);return}var N=!0,te=!1;(ie.children||[]).filter(function(G){return!ve(G.node)}).forEach(function(G){var q=G.key,pe=D.has(q);N&&!pe&&(N=!1),!te&&(pe||F.has(q))&&(te=!0)}),N&&D.add(ie.key),te&&F.add(ie.key),y.add(ie.key)}})}return{checkedKeys:Array.from(D),halfCheckedKeys:Array.from(me(F,D))}}function ze(ke,xe,fe,ve,D){for(var F=new Set(ke),ee=new Set(xe),de=0;de<=ve;de+=1){var y=fe.get(de)||new Set;y.forEach(function(ie){var h=ie.key,N=ie.node,te=ie.children,G=te===void 0?[]:te;!F.has(h)&&!ee.has(h)&&!D(N)&&G.filter(function(q){return!D(q.node)}).forEach(function(q){F.delete(q.key)})})}ee=new Set;for(var Ce=new Set,Ke=ve;Ke>=0;Ke-=1){var ce=fe.get(Ke)||new Set;ce.forEach(function(ie){var h=ie.parent,N=ie.node;if(!(D(N)||!ie.parent||Ce.has(ie.parent.key))){if(D(ie.parent.node)){Ce.add(h.key);return}var te=!0,G=!1;(h.children||[]).filter(function(q){return!D(q.node)}).forEach(function(q){var pe=q.key,V=F.has(pe);te&&!V&&(te=!1),!G&&(V||ee.has(pe))&&(G=!0)}),te||F.delete(h.key),G&&ee.add(h.key),Ce.add(h.key)}})}return{checkedKeys:Array.from(F),halfCheckedKeys:Array.from(me(ee,F))}}function c(ke,xe,fe,ve){var D=[],F;ve?F=ve:F=H;var ee=new Set(ke.filter(function(Ke){var ce=!!(0,R.Z)(fe,Ke);return ce||D.push(Ke),ce})),de=new Map,y=0;Object.keys(fe).forEach(function(Ke){var ce=fe[Ke],ie=ce.level,h=de.get(ie);h||(h=new Set,de.set(ie,h)),h.add(ce),y=Math.max(y,ie)}),(0,ye.ZP)(!D.length,"Tree missing follow keys: ".concat(D.slice(0,100).map(function(Ke){return"'".concat(Ke,"'")}).join(", ")));var Ce;return xe===!0?Ce=ue(ee,de,y,F):Ce=ze(ee,xe.halfCheckedKeys,de,y,F),Ce}},35381:function(ct,_e,v){v.d(_e,{Z:function(){return ye}});function ye(R,me){return R[me]}},1089:function(ct,_e,v){v.d(_e,{F:function(){return ie},H8:function(){return ce},I8:function(){return Ke},km:function(){return D},oH:function(){return y},w$:function(){return F},zn:function(){return de}});var ye=v(71002),R=v(74902),me=v(1413),H=v(91),ue=v(50344),ze=v(98423),c=v(80334),ke=v(35381),xe=["children"];function fe(h,N){return"".concat(h,"-").concat(N)}function ve(h){return h&&h.type&&h.type.isTreeNode}function D(h,N){return h!=null?h:N}function F(h){var N=h||{},te=N.title,G=N._title,q=N.key,pe=N.children,V=te||"title";return{title:V,_title:G||[V],key:q||"key",children:pe||"children"}}function ee(h,N){var te=new Map;function G(q){var pe=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"";(q||[]).forEach(function(V){var M=V[N.key],we=V[N.children];warning(M!=null,"Tree node must have a certain key: [".concat(pe).concat(M,"]"));var Pe=String(M);warning(!te.has(Pe)||M===null||M===void 0,"Same 'key' exist in the Tree: ".concat(Pe)),te.set(Pe,!0),G(we,"".concat(pe).concat(Pe," > "))})}G(h)}function de(h){function N(te){var G=(0,ue.Z)(te);return G.map(function(q){if(!ve(q))return(0,c.ZP)(!q,"Tree/TreeNode can only accept TreeNode as children."),null;var pe=q.key,V=q.props,M=V.children,we=(0,H.Z)(V,xe),Pe=(0,me.Z)({key:pe},we),Ae=N(M);return Ae.length&&(Pe.children=Ae),Pe}).filter(function(q){return q})}return N(h)}function y(h,N,te){var G=F(te),q=G._title,pe=G.key,V=G.children,M=new Set(N===!0?[]:N),we=[];function Pe(Ae){var Ie=arguments.length>1&&arguments[1]!==void 0?arguments[1]:null;return Ae.map(function(be,Ze){for(var Ne=fe(Ie?Ie.pos:"0",Ze),Fe=D(be[pe],Ne),He,Qe=0;Qe<q.length;Qe+=1){var at=q[Qe];if(be[at]!==void 0){He=be[at];break}}var Ge=(0,me.Z)((0,me.Z)({},(0,ze.Z)(be,[].concat((0,R.Z)(q),[pe,V]))),{},{title:He,key:Fe,parent:Ie,pos:Ne,children:null,data:be,isStart:[].concat((0,R.Z)(Ie?Ie.isStart:[]),[Ze===0]),isEnd:[].concat((0,R.Z)(Ie?Ie.isEnd:[]),[Ze===Ae.length-1])});return we.push(Ge),N===!0||M.has(Fe)?Ge.children=Pe(be[V]||[],Ge):Ge.children=[],Ge})}return Pe(h),we}function Ce(h,N,te){var G={};(0,ye.Z)(te)==="object"?G=te:G={externalGetKey:te},G=G||{};var q=G,pe=q.childrenPropName,V=q.externalGetKey,M=q.fieldNames,we=F(M),Pe=we.key,Ae=we.children,Ie=pe||Ae,be;V?typeof V=="string"?be=function(Fe){return Fe[V]}:typeof V=="function"&&(be=function(Fe){return V(Fe)}):be=function(Fe,He){return D(Fe[Pe],He)};function Ze(Ne,Fe,He,Qe){var at=Ne?Ne[Ie]:h,Ge=Ne?fe(He.pos,Fe):"0",pt=Ne?[].concat((0,R.Z)(Qe),[Ne]):[];if(Ne){var Ye=be(Ne,Ge),Kt={node:Ne,index:Fe,pos:Ge,key:Ye,parentPos:He.node?He.pos:null,level:He.level+1,nodes:pt};N(Kt)}at&&at.forEach(function(xt,Mt){Ze(xt,Mt,{node:Ne,pos:Ge,level:He?He.level+1:-1},pt)})}Ze(null)}function Ke(h){var N=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},te=N.initWrapper,G=N.processEntity,q=N.onProcessFinished,pe=N.externalGetKey,V=N.childrenPropName,M=N.fieldNames,we=arguments.length>2?arguments[2]:void 0,Pe=pe||we,Ae={},Ie={},be={posEntities:Ae,keyEntities:Ie};return te&&(be=te(be)||be),Ce(h,function(Ze){var Ne=Ze.node,Fe=Ze.index,He=Ze.pos,Qe=Ze.key,at=Ze.parentPos,Ge=Ze.level,pt=Ze.nodes,Ye={node:Ne,nodes:pt,index:Fe,key:Qe,pos:He,level:Ge},Kt=D(Qe,He);Ae[He]=Ye,Ie[Kt]=Ye,Ye.parent=Ae[at],Ye.parent&&(Ye.parent.children=Ye.parent.children||[],Ye.parent.children.push(Ye)),G&&G(Ye,be)},{externalGetKey:Pe,childrenPropName:V,fieldNames:M}),q&&q(be),be}function ce(h,N){var te=N.expandedKeys,G=N.selectedKeys,q=N.loadedKeys,pe=N.loadingKeys,V=N.checkedKeys,M=N.halfCheckedKeys,we=N.dragOverNodeKey,Pe=N.dropPosition,Ae=N.keyEntities,Ie=(0,ke.Z)(Ae,h),be={eventKey:h,expanded:te.indexOf(h)!==-1,selected:G.indexOf(h)!==-1,loaded:q.indexOf(h)!==-1,loading:pe.indexOf(h)!==-1,checked:V.indexOf(h)!==-1,halfChecked:M.indexOf(h)!==-1,pos:String(Ie?Ie.pos:""),dragOver:we===h&&Pe===0,dragOverGapTop:we===h&&Pe===-1,dragOverGapBottom:we===h&&Pe===1};return be}function ie(h){var N=h.data,te=h.expanded,G=h.selected,q=h.checked,pe=h.loaded,V=h.loading,M=h.halfChecked,we=h.dragOver,Pe=h.dragOverGapTop,Ae=h.dragOverGapBottom,Ie=h.pos,be=h.active,Ze=h.eventKey,Ne=(0,me.Z)((0,me.Z)({},N),{},{expanded:te,selected:G,checked:q,loaded:pe,loading:V,halfChecked:M,dragOver:we,dragOverGapTop:Pe,dragOverGapBottom:Ae,pos:Ie,active:be,key:Ze});return"props"in Ne||Object.defineProperty(Ne,"props",{get:function(){return(0,c.ZP)(!1,"Second param return from event is node data instead of TreeNode instance. Please read value directly instead of reading from `props`."),h}}),Ne}},56790:function(ct,_e,v){v.d(_e,{C8:function(){return R.Z},t4:function(){return me.t4},x1:function(){return me.x1},zX:function(){return ye.Z}});var ye=v(66680),R=v(21770),me=v(42550),H=v(8880),ue=v(80334)},64217:function(ct,_e,v){v.d(_e,{Z:function(){return ke}});var ye=v(1413),R=`accept acceptCharset accessKey action allowFullScreen allowTransparency
    alt async autoComplete autoFocus autoPlay capture cellPadding cellSpacing challenge
    charSet checked classID className colSpan cols content contentEditable contextMenu
    controls coords crossOrigin data dateTime default defer dir disabled download draggable
    encType form formAction formEncType formMethod formNoValidate formTarget frameBorder
    headers height hidden high href hrefLang htmlFor httpEquiv icon id inputMode integrity
    is keyParams keyType kind label lang list loop low manifest marginHeight marginWidth max maxLength media
    mediaGroup method min minLength multiple muted name noValidate nonce open
    optimum pattern placeholder poster preload radioGroup readOnly rel required
    reversed role rowSpan rows sandbox scope scoped scrolling seamless selected
    shape size sizes span spellCheck src srcDoc srcLang srcSet start step style
    summary tabIndex target title type useMap value width wmode wrap`,me=`onCopy onCut onPaste onCompositionEnd onCompositionStart onCompositionUpdate onKeyDown
    onKeyPress onKeyUp onFocus onBlur onChange onInput onSubmit onClick onContextMenu onDoubleClick
    onDrag onDragEnd onDragEnter onDragExit onDragLeave onDragOver onDragStart onDrop onMouseDown
    onMouseEnter onMouseLeave onMouseMove onMouseOut onMouseOver onMouseUp onSelect onTouchCancel
    onTouchEnd onTouchMove onTouchStart onScroll onWheel onAbort onCanPlay onCanPlayThrough
    onDurationChange onEmptied onEncrypted onEnded onError onLoadedData onLoadedMetadata
    onLoadStart onPause onPlay onPlaying onProgress onRateChange onSeeked onSeeking onStalled onSuspend onTimeUpdate onVolumeChange onWaiting onLoad onError`,H="".concat(R," ").concat(me).split(/[\s\n]+/),ue="aria-",ze="data-";function c(xe,fe){return xe.indexOf(fe)===0}function ke(xe){var fe=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1,ve;fe===!1?ve={aria:!0,data:!0,attr:!0}:fe===!0?ve={aria:!0}:ve=(0,ye.Z)({},fe);var D={};return Object.keys(xe).forEach(function(F){(ve.aria&&(F==="role"||c(F,ue))||ve.data&&c(F,ze)||ve.attr&&H.includes(F))&&(D[F]=xe[F])}),D}},88306:function(ct,_e,v){v.d(_e,{Z:function(){return ye}});function ye(R,me){for(var H=R,ue=0;ue<me.length;ue+=1){if(H==null)return;H=H[me[ue]]}return H}},8880:function(ct,_e,v){v.d(_e,{T:function(){return ve},Z:function(){return c}});var ye=v(71002),R=v(1413),me=v(74902),H=v(84506),ue=v(88306);function ze(D,F,ee,de){if(!F.length)return ee;var y=(0,H.Z)(F),Ce=y[0],Ke=y.slice(1),ce;return!D&&typeof Ce=="number"?ce=[]:Array.isArray(D)?ce=(0,me.Z)(D):ce=(0,R.Z)({},D),de&&ee===void 0&&Ke.length===1?delete ce[Ce][Ke[0]]:ce[Ce]=ze(ce[Ce],Ke,ee,de),ce}function c(D,F,ee){var de=arguments.length>3&&arguments[3]!==void 0?arguments[3]:!1;return F.length&&de&&ee===void 0&&!(0,ue.Z)(D,F.slice(0,-1))?D:ze(D,F,ee,de)}function ke(D){return(0,ye.Z)(D)==="object"&&D!==null&&Object.getPrototypeOf(D)===Object.prototype}function xe(D){return Array.isArray(D)?[]:{}}var fe=typeof Reflect=="undefined"?Object.keys:Reflect.ownKeys;function ve(){for(var D=arguments.length,F=new Array(D),ee=0;ee<D;ee++)F[ee]=arguments[ee];var de=xe(F[0]);return F.forEach(function(y){function Ce(Ke,ce){var ie=new Set(ce),h=(0,ue.Z)(y,Ke),N=Array.isArray(h);if(N||ke(h)){if(!ie.has(h)){ie.add(h);var te=(0,ue.Z)(de,Ke);N?de=c(de,Ke,[]):(!te||(0,ye.Z)(te)!=="object")&&(de=c(de,Ke,xe(h))),fe(h).forEach(function(G){Ce([].concat((0,me.Z)(Ke),[G]),ie)})}}else de=c(de,Ke,h)}Ce([])}),de}},85344:function(ct,_e,v){v.d(_e,{Z:function(){return $t}});var ye=v(87462),R=v(1413),me=v(71002),H=v(97685),ue=v(4942),ze=v(91),c=v(67294),ke=v(73935),xe=v(94184),fe=v.n(xe),ve=v(48555),D=c.forwardRef(function(d,W){var x=d.height,A=d.offsetY,X=d.offsetX,Z=d.children,U=d.prefixCls,$=d.onInnerResize,Y=d.innerProps,De=d.rtl,re=d.extra,w={},j={display:"flex",flexDirection:"column"};if(A!==void 0){var _;w={height:x,position:"relative",overflow:"hidden"},j=(0,R.Z)((0,R.Z)({},j),{},(_={transform:"translateY(".concat(A,"px)")},(0,ue.Z)(_,De?"marginRight":"marginLeft",-X),(0,ue.Z)(_,"position","absolute"),(0,ue.Z)(_,"left",0),(0,ue.Z)(_,"right",0),(0,ue.Z)(_,"top",0),_))}return c.createElement("div",{style:w},c.createElement(ve.Z,{onResize:function(ae){var J=ae.offsetHeight;J&&$&&$()}},c.createElement("div",(0,ye.Z)({style:j,className:fe()((0,ue.Z)({},"".concat(U,"-holder-inner"),U)),ref:W},Y),Z,re)))});D.displayName="Filler";var F=D,ee=v(75164);function de(d,W){var x="touches"in d?d.touches[0]:d;return x[W?"pageX":"pageY"]}var y=c.forwardRef(function(d,W){var x,A=d.prefixCls,X=d.rtl,Z=d.scrollOffset,U=d.scrollRange,$=d.onStartMove,Y=d.onStopMove,De=d.onScroll,re=d.horizontal,w=d.spinSize,j=d.containerSize,_=d.style,le=d.thumbStyle,ae=c.useState(!1),J=(0,H.Z)(ae,2),he=J[0],Se=J[1],We=c.useState(null),Ue=(0,H.Z)(We,2),Ve=Ue[0],rt=Ue[1],Oe=c.useState(null),o=(0,H.Z)(Oe,2),u=o[0],p=o[1],e=!X,i=c.useRef(),s=c.useRef(),g=c.useState(!1),t=(0,H.Z)(g,2),n=t[0],r=t[1],a=c.useRef(),f=function(){clearTimeout(a.current),r(!0),a.current=setTimeout(function(){r(!1)},3e3)},m=U-j||0,E=j-w||0,S=m>0,K=c.useMemo(function(){if(Z===0||m===0)return 0;var I=Z/m;return I*E},[Z,m,E]),T=function(b){b.stopPropagation(),b.preventDefault()},l=c.useRef({top:K,dragging:he,pageY:Ve,startTop:u});l.current={top:K,dragging:he,pageY:Ve,startTop:u};var C=function(b){Se(!0),rt(de(b,re)),p(l.current.top),$(),b.stopPropagation(),b.preventDefault()};c.useEffect(function(){var I=function(oe){oe.preventDefault()},b=i.current,se=s.current;return b.addEventListener("touchstart",I),se.addEventListener("touchstart",C),function(){b.removeEventListener("touchstart",I),se.removeEventListener("touchstart",C)}},[]);var O=c.useRef();O.current=m;var k=c.useRef();k.current=E,c.useEffect(function(){if(he){var I,b=function(oe){var Ee=l.current,Le=Ee.dragging,$e=Ee.pageY,Xe=Ee.startTop;if(ee.Z.cancel(I),Le){var Re=de(oe,re)-$e,Be=Xe;!e&&re?Be-=Re:Be+=Re;var ot=O.current,qe=k.current,Je=qe?Be/qe:0,Te=Math.ceil(Je*ot);Te=Math.max(Te,0),Te=Math.min(Te,ot),I=(0,ee.Z)(function(){De(Te,re)})}},se=function(){Se(!1),Y()};return window.addEventListener("mousemove",b),window.addEventListener("touchmove",b),window.addEventListener("mouseup",se),window.addEventListener("touchend",se),function(){window.removeEventListener("mousemove",b),window.removeEventListener("touchmove",b),window.removeEventListener("mouseup",se),window.removeEventListener("touchend",se),ee.Z.cancel(I)}}},[he]),c.useEffect(function(){f()},[Z]),c.useImperativeHandle(W,function(){return{delayHidden:f}});var L="".concat(A,"-scrollbar"),P={position:"absolute",visibility:n&&S?null:"hidden"},Q={position:"absolute",background:"rgba(0, 0, 0, 0.5)",borderRadius:99,cursor:"pointer",userSelect:"none"};return re?(P.height=8,P.left=0,P.right=0,P.bottom=0,Q.height="100%",Q.width=w,e?Q.left=K:Q.right=K):(P.width=8,P.top=0,P.bottom=0,e?P.right=0:P.left=0,Q.width="100%",Q.height=w,Q.top=K),c.createElement("div",{ref:i,className:fe()(L,(x={},(0,ue.Z)(x,"".concat(L,"-horizontal"),re),(0,ue.Z)(x,"".concat(L,"-vertical"),!re),(0,ue.Z)(x,"".concat(L,"-visible"),n),x)),style:(0,R.Z)((0,R.Z)({},P),_),onMouseDown:T,onMouseMove:f},c.createElement("div",{ref:s,className:fe()("".concat(L,"-thumb"),(0,ue.Z)({},"".concat(L,"-thumb-moving"),he)),style:(0,R.Z)((0,R.Z)({},Q),le),onMouseDown:C}))}),Ce=y;function Ke(d){var W=d.children,x=d.setRef,A=c.useCallback(function(X){x(X)},[]);return c.cloneElement(W,{ref:A})}function ce(d,W,x,A,X,Z,U){var $=U.getKey;return d.slice(W,x+1).map(function(Y,De){var re=W+De,w=Z(Y,re,{style:{width:A}}),j=$(Y);return c.createElement(Ke,{key:j,setRef:function(le){return X(Y,le)}},w)})}var ie=v(34203),h=v(15671),N=v(43144),te=function(){function d(){(0,h.Z)(this,d),this.maps=void 0,this.id=0,this.maps=Object.create(null)}return(0,N.Z)(d,[{key:"set",value:function(x,A){this.maps[x]=A,this.id+=1}},{key:"get",value:function(x){return this.maps[x]}}]),d}(),G=te;function q(d,W,x){var A=c.useState(0),X=(0,H.Z)(A,2),Z=X[0],U=X[1],$=(0,c.useRef)(new Map),Y=(0,c.useRef)(new G),De=(0,c.useRef)();function re(){ee.Z.cancel(De.current)}function w(){var _=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!1;re();var le=function(){$.current.forEach(function(J,he){if(J&&J.offsetParent){var Se=(0,ie.Z)(J),We=Se.offsetHeight;Y.current.get(he)!==We&&Y.current.set(he,Se.offsetHeight)}}),U(function(J){return J+1})};_?le():De.current=(0,ee.Z)(le)}function j(_,le){var ae=d(_),J=$.current.get(ae);le?($.current.set(ae,le),w()):$.current.delete(ae),!J!=!le&&(le?W==null||W(_):x==null||x(_))}return(0,c.useEffect)(function(){return re},[]),[j,w,Y.current,Z]}var pe=v(8410),V=v(56790),M=10;function we(d,W,x,A,X,Z,U,$){var Y=c.useRef(),De=c.useState(null),re=(0,H.Z)(De,2),w=re[0],j=re[1];return(0,pe.Z)(function(){if(w&&w.times<M){if(!d.current){j(function(f){return(0,R.Z)({},f)});return}Z();var _=w.targetAlign,le=w.originAlign,ae=w.index,J=w.offset,he=d.current.clientHeight,Se=!1,We=_,Ue=null;if(he){for(var Ve=_||le,rt=0,Oe=0,o=0,u=Math.min(W.length-1,ae),p=0;p<=u;p+=1){var e=X(W[p]);Oe=rt;var i=x.get(e);o=Oe+(i===void 0?A:i),rt=o}for(var s=Ve==="top"?J:he-J,g=u;g>=0;g-=1){var t=X(W[g]),n=x.get(t);if(n===void 0){Se=!0;break}if(s-=n,s<=0)break}switch(Ve){case"top":Ue=Oe-J;break;case"bottom":Ue=o-he+J;break;default:{var r=d.current.scrollTop,a=r+he;Oe<r?We="top":o>a&&(We="bottom")}}Ue!==null&&U(Ue),Ue!==w.lastTop&&(Se=!0)}Se&&j((0,R.Z)((0,R.Z)({},w),{},{times:w.times+1,targetAlign:We,lastTop:Ue}))}},[w,d.current]),function(_){if(_==null){$();return}if(ee.Z.cancel(Y.current),typeof _=="number")U(_);else if(_&&(0,me.Z)(_)==="object"){var le,ae=_.align;"index"in _?le=_.index:le=W.findIndex(function(Se){return X(Se)===_.key});var J=_.offset,he=J===void 0?0:J;j({times:0,index:le,offset:he,originAlign:ae})}}}function Pe(d,W,x,A){var X=x-d,Z=W-x,U=Math.min(X,Z)*2;if(A<=U){var $=Math.floor(A/2);return A%2?x+$+1:x-$}return X>Z?x-(A-Z):x+(A-X)}function Ae(d,W,x){var A=d.length,X=W.length,Z,U;if(A===0&&X===0)return null;A<X?(Z=d,U=W):(Z=W,U=d);var $={__EMPTY_ITEM__:!0};function Y(le){return le!==void 0?x(le):$}for(var De=null,re=Math.abs(A-X)!==1,w=0;w<U.length;w+=1){var j=Y(Z[w]),_=Y(U[w]);if(j!==_){De=w,re=re||j!==Y(U[w+1]);break}}return De===null?null:{index:De,multiple:re}}function Ie(d,W,x){var A=c.useState(d),X=(0,H.Z)(A,2),Z=X[0],U=X[1],$=c.useState(null),Y=(0,H.Z)($,2),De=Y[0],re=Y[1];return c.useEffect(function(){var w=Ae(Z||[],d||[],W);(w==null?void 0:w.index)!==void 0&&(x==null||x(w.index),re(d[w.index])),U(d)},[d]),[De]}var be=(typeof navigator=="undefined"?"undefined":(0,me.Z)(navigator))==="object"&&/Firefox/i.test(navigator.userAgent),Ze=be,Ne=function(d,W){var x=(0,c.useRef)(!1),A=(0,c.useRef)(null);function X(){clearTimeout(A.current),x.current=!0,A.current=setTimeout(function(){x.current=!1},50)}var Z=(0,c.useRef)({top:d,bottom:W});return Z.current.top=d,Z.current.bottom=W,function(U){var $=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1,Y=U<0&&Z.current.top||U>0&&Z.current.bottom;return $&&Y?(clearTimeout(A.current),x.current=!1):(!Y||x.current)&&X(),!x.current&&Y}};function Fe(d,W,x,A,X){var Z=(0,c.useRef)(0),U=(0,c.useRef)(null),$=(0,c.useRef)(null),Y=(0,c.useRef)(!1),De=Ne(W,x);function re(J,he){ee.Z.cancel(U.current),Z.current+=he,$.current=he,!De(he)&&(Ze||J.preventDefault(),U.current=(0,ee.Z)(function(){var Se=Y.current?10:1;X(Z.current*Se),Z.current=0}))}function w(J,he){X(he,!0),Ze||J.preventDefault()}var j=(0,c.useRef)(null),_=(0,c.useRef)(null);function le(J){if(d){ee.Z.cancel(_.current),_.current=(0,ee.Z)(function(){j.current=null},2);var he=J.deltaX,Se=J.deltaY,We=J.shiftKey,Ue=he,Ve=Se;(j.current==="sx"||!j.current&&We&&Se&&!he)&&(Ue=Se,Ve=0,j.current="sx");var rt=Math.abs(Ue),Oe=Math.abs(Ve);j.current===null&&(j.current=A&&rt>Oe?"x":"y"),j.current==="y"?re(J,Ve):w(J,Ue)}}function ae(J){d&&(Y.current=J.detail===$.current)}return[le,ae]}var He=14/15;function Qe(d,W,x){var A=(0,c.useRef)(!1),X=(0,c.useRef)(0),Z=(0,c.useRef)(null),U=(0,c.useRef)(null),$,Y=function(j){if(A.current){var _=Math.ceil(j.touches[0].pageY),le=X.current-_;X.current=_,x(le)&&j.preventDefault(),clearInterval(U.current),U.current=setInterval(function(){le*=He,(!x(le,!0)||Math.abs(le)<=.1)&&clearInterval(U.current)},16)}},De=function(){A.current=!1,$()},re=function(j){$(),j.touches.length===1&&!A.current&&(A.current=!0,X.current=Math.ceil(j.touches[0].pageY),Z.current=j.target,Z.current.addEventListener("touchmove",Y),Z.current.addEventListener("touchend",De))};$=function(){Z.current&&(Z.current.removeEventListener("touchmove",Y),Z.current.removeEventListener("touchend",De))},(0,pe.Z)(function(){return d&&W.current.addEventListener("touchstart",re),function(){var w;(w=W.current)===null||w===void 0||w.removeEventListener("touchstart",re),$(),clearInterval(U.current)}},[d])}var at=20;function Ge(){var d=arguments.length>0&&arguments[0]!==void 0?arguments[0]:0,W=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,x=d/W*100;return isNaN(x)&&(x=0),x=Math.max(x,at),x=Math.min(x,d/2),Math.floor(x)}function pt(d,W,x,A){var X=c.useMemo(function(){return[new Map,[]]},[d,x.id,A]),Z=(0,H.Z)(X,2),U=Z[0],$=Z[1],Y=function(re){var w=arguments.length>1&&arguments[1]!==void 0?arguments[1]:re,j=U.get(re),_=U.get(w);if(j===void 0||_===void 0)for(var le=d.length,ae=$.length;ae<le;ae+=1){var J,he=d[ae],Se=W(he);U.set(Se,ae);var We=(J=x.get(Se))!==null&&J!==void 0?J:A;if($[ae]=($[ae-1]||0)+We,Se===re&&(j=ae),Se===w&&(_=ae),j!==void 0&&_!==void 0)break}return{top:$[j-1]||0,bottom:$[_]}};return Y}var Ye=["prefixCls","className","height","itemHeight","fullHeight","style","data","children","itemKey","virtual","direction","scrollWidth","component","onScroll","onVirtualScroll","onVisibleChange","innerProps","extraRender","styles"],Kt=[],xt={overflowY:"auto",overflowAnchor:"none"};function Mt(d,W){var x=d.prefixCls,A=x===void 0?"rc-virtual-list":x,X=d.className,Z=d.height,U=d.itemHeight,$=d.fullHeight,Y=$===void 0?!0:$,De=d.style,re=d.data,w=d.children,j=d.itemKey,_=d.virtual,le=d.direction,ae=d.scrollWidth,J=d.component,he=J===void 0?"div":J,Se=d.onScroll,We=d.onVirtualScroll,Ue=d.onVisibleChange,Ve=d.innerProps,rt=d.extraRender,Oe=d.styles,o=(0,ze.Z)(d,Ye),u=!!(_!==!1&&Z&&U),p=u&&re&&(U*re.length>Z||!!ae),e=le==="rtl",i=fe()(A,(0,ue.Z)({},"".concat(A,"-rtl"),e),X),s=re||Kt,g=(0,c.useRef)(),t=(0,c.useRef)(),n=(0,c.useState)(0),r=(0,H.Z)(n,2),a=r[0],f=r[1],m=(0,c.useState)(0),E=(0,H.Z)(m,2),S=E[0],K=E[1],T=(0,c.useState)(!1),l=(0,H.Z)(T,2),C=l[0],O=l[1],k=function(){O(!0)},L=function(){O(!1)},P=c.useCallback(function(B){return typeof j=="function"?j(B):B==null?void 0:B[j]},[j]),Q={getKey:P};function I(B){f(function(z){var ge;typeof B=="function"?ge=B(z):ge=B;var je=Ht(ge);return g.current.scrollTop=je,je})}var b=(0,c.useRef)({start:0,end:s.length}),se=(0,c.useRef)(),ne=Ie(s,P),oe=(0,H.Z)(ne,1),Ee=oe[0];se.current=Ee;var Le=q(P,null,null),$e=(0,H.Z)(Le,4),Xe=$e[0],Re=$e[1],Be=$e[2],ot=$e[3],qe=c.useMemo(function(){if(!u)return{scrollHeight:void 0,start:0,end:s.length-1,offset:void 0};if(!p){var B;return{scrollHeight:((B=t.current)===null||B===void 0?void 0:B.offsetHeight)||0,start:0,end:s.length-1,offset:void 0}}for(var z=0,ge,je,Et,Vt=s.length,At=0;At<Vt;At+=1){var Xt=s[At],Jt=P(Xt),zt=Be.get(Jt),Wt=z+(zt===void 0?U:zt);Wt>=a&&ge===void 0&&(ge=At,je=z),Wt>a+Z&&Et===void 0&&(Et=At),z=Wt}return ge===void 0&&(ge=0,je=0,Et=Math.ceil(Z/U)),Et===void 0&&(Et=s.length-1),Et=Math.min(Et+1,s.length-1),{scrollHeight:z,start:ge,end:Et,offset:je}},[p,u,a,s,ot,Z]),Je=qe.scrollHeight,Te=qe.start,et=qe.end,tt=qe.offset;b.current.start=Te,b.current.end=et;var gt=c.useState({width:0,height:Z}),Ct=(0,H.Z)(gt,2),nt=Ct[0],Rt=Ct[1],yt=function(z){Rt({width:z.width||z.offsetWidth,height:z.height||z.offsetHeight})},Nt=(0,c.useRef)(),dt=(0,c.useRef)(),_t=c.useMemo(function(){return Ge(nt.width,ae)},[nt.width,ae]),Zt=c.useMemo(function(){return Ge(nt.height,Je)},[nt.height,Je]),Ot=Je-Z,Dt=(0,c.useRef)(Ot);Dt.current=Ot;function Ht(B){var z=B;return Number.isNaN(Dt.current)||(z=Math.min(z,Dt.current)),z=Math.max(z,0),z}var kt=a<=0,Tt=a>=Ot,Lt=Ne(kt,Tt),wt=function(){return{x:e?-S:S,y:a}},bt=(0,c.useRef)(wt()),Me=(0,V.zX)(function(){if(We){var B=wt();(bt.current.x!==B.x||bt.current.y!==B.y)&&(We(B),bt.current=B)}});function it(B,z){var ge=B;z?((0,ke.flushSync)(function(){K(ge)}),Me()):I(ge)}function ut(B){var z=B.currentTarget.scrollTop;z!==a&&I(z),Se==null||Se(B),Me()}var lt=function(z){var ge=z,je=ae-nt.width;return ge=Math.max(ge,0),ge=Math.min(ge,je),ge},ft=(0,V.zX)(function(B,z){z?((0,ke.flushSync)(function(){K(function(ge){var je=ge+(e?-B:B);return lt(je)})}),Me()):I(function(ge){var je=ge+B;return je})}),vt=Fe(u,kt,Tt,!!ae,ft),St=(0,H.Z)(vt,2),ht=St[0],mt=St[1];Qe(u,g,function(B,z){return Lt(B,z)?!1:(ht({preventDefault:function(){},deltaY:B}),!0)}),(0,pe.Z)(function(){function B(ge){u&&ge.preventDefault()}var z=g.current;return z.addEventListener("wheel",ht),z.addEventListener("DOMMouseScroll",mt),z.addEventListener("MozMousePixelScroll",B),function(){z.removeEventListener("wheel",ht),z.removeEventListener("DOMMouseScroll",mt),z.removeEventListener("MozMousePixelScroll",B)}},[u]),(0,pe.Z)(function(){ae&&K(function(B){return lt(B)})},[nt.width,ae]);var Ft=function(){var z,ge;(z=Nt.current)===null||z===void 0||z.delayHidden(),(ge=dt.current)===null||ge===void 0||ge.delayHidden()},Ut=we(g,s,Be,U,P,function(){return Re(!0)},I,Ft);c.useImperativeHandle(W,function(){return{getScrollInfo:wt,scrollTo:function(z){function ge(je){return je&&(0,me.Z)(je)==="object"&&("left"in je||"top"in je)}ge(z)?(z.left!==void 0&&K(lt(z.left)),Ut(z.top)):Ut(z)}}}),(0,pe.Z)(function(){if(Ue){var B=s.slice(Te,et+1);Ue(B,s)}},[Te,et,s]);var jt=pt(s,P,Be,U),Gt=rt==null?void 0:rt({start:Te,end:et,virtual:p,offsetX:S,offsetY:tt,rtl:e,getSize:jt}),Yt=ce(s,Te,et,ae,Xe,w,Q),It=null;Z&&(It=(0,R.Z)((0,ue.Z)({},Y?"height":"maxHeight",Z),xt),u&&(It.overflowY="hidden",ae&&(It.overflowX="hidden"),C&&(It.pointerEvents="none")));var Bt={};return e&&(Bt.dir="rtl"),c.createElement("div",(0,ye.Z)({style:(0,R.Z)((0,R.Z)({},De),{},{position:"relative"}),className:i},Bt,o),c.createElement(ve.Z,{onResize:yt},c.createElement(he,{className:"".concat(A,"-holder"),style:It,ref:g,onScroll:ut,onMouseEnter:Ft},c.createElement(F,{prefixCls:A,height:Je,offsetX:S,offsetY:tt,scrollWidth:ae,onInnerResize:Re,ref:t,innerProps:Ve,rtl:e,extra:Gt},Yt))),p&&Je>Z&&c.createElement(Ce,{ref:Nt,prefixCls:A,scrollOffset:a,scrollRange:Je,rtl:e,onScroll:it,onStartMove:k,onStopMove:L,spinSize:Zt,containerSize:nt.height,style:Oe==null?void 0:Oe.verticalScrollBar,thumbStyle:Oe==null?void 0:Oe.verticalScrollBarThumb}),p&&ae&&c.createElement(Ce,{ref:dt,prefixCls:A,scrollOffset:S,scrollRange:ae,rtl:e,onScroll:it,onStartMove:k,onStopMove:L,spinSize:_t,containerSize:nt.width,horizontal:!0,style:Oe==null?void 0:Oe.horizontalScrollBar,thumbStyle:Oe==null?void 0:Oe.horizontalScrollBarThumb}))}var st=c.forwardRef(Mt);st.displayName="List";var Pt=st,$t=Pt},84506:function(ct,_e,v){v.d(_e,{Z:function(){return ue}});var ye=v(83878),R=v(59199),me=v(40181),H=v(25267);function ue(ze){return(0,ye.Z)(ze)||(0,R.Z)(ze)||(0,me.Z)(ze)||(0,H.Z)()}}}]);
